<!DOCTYPE html>

<html>
	<head>
		<title>Refrain</title>
		<link type="text/css" rel="stylesheet" href="Main.css"/>
		<link type="text/css" rel="stylesheet" href="Flags.css"/>
		<script type="text/javascript" src="//code.jquery.com/jquery-2.1.0.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
		<script type="text/javascript" src="//maps.googleapis.com/maps/api/js?key=AIzaSyDYMEgXXaemmCDhs3D_z6s_KPb5nMcB5MA&sensor=false"></script>
		<script type="text/javascript" src="//connect.facebook.net/en_US/all.js"></script>
		<script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
		<script type="text/javascript" src="https://www.youtube.com/iframe_api"></script>
		<script type="text/javascript" src="Scripts/Refrain.js"></script>
		<script type="text/javascript" src="Scripts/PortalClient.min.js"></script>
		<script type="text/javascript">
			(function (i, s, o, g, r, a, m) {
				i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
					(i[r].q = i[r].q || []).push(arguments)
				}, i[r].l = 1 * new Date(); a = s.createElement(o),
					m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
			})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
			ga('create', 'UA-50617620-1', 'auto');

			$(document).ready(function()
				{
					ko.applyBindings(new MainViewModel());
				});

			window.fbAsyncInit = function () {
				FB.init({
					appId: '1502662549961564',
					status: true,
					xfbml: true
				});
			};
		</script>
	</head>
	<body>
		<div id="fb-root"></div>
		<div id="headcontainer">
			<div class="transdarkblue"></div>
			<div id="headtext">
				<div class="wbg">
					<div class="menublock">
						<table>
							<tbody>
								<tr>
									<td>
										<a href="#">
											<img width="280" src="Images/refrain_white_280.png" alt="refrain" />
										</a>
									</td>
									<td style="text-align: right;">
										<span class="small">PRESENTED BY</span>&nbsp;
										<a href="http://www.cosound.dk" target="_blank">
											<img src="Images/cosound_logo.png" style="vertical-align: middle; width: 150px;" alt="refrain" />
										</a>
										&nbsp;
										<a href="http://www.danishsound.org" target="_blank">
											<img src="Images/danishsound_long.png" style="vertical-align: middle; width: 150px;" alt="refrain" />
										</a>
									</td>
								</tr>
								<tr>
									<td colspan="2">
										<div style="height: 12px;"></div>
									</td>
								</tr>
								<tr>
									<td style="text-align: left;" colspan="2">
										<a class="menubutton" href="#Match" data-bind="css: {Selected: CurrentPage() == 'Match'}">SONG MATCH</a>&nbsp;
										<a class="menubutton" href="#Mood" data-bind="css: {Selected: CurrentPage() == 'Mood'}">MOOD OF EUROPE</a>&nbsp;
										<a class="menubutton" href="#Discovery" data-bind="css: {Selected: CurrentPage() == 'Discovery'}">DISCOVERIES</a>&nbsp;
										<a class="menubutton" href="#About" data-bind="css: {Selected: CurrentPage() == 'About'}">ABOUT</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="wbg">
			<div class="mainblock" data-bind="with: CurrentPageViewModel">
				<!-- ko if: $parent.CurrentPage() == "" -->
				<p>Explore the realm of Eurovision Song Contest.</p>
				<p>SONG MATCH matches selected Eurovision Song Contest songs with the realm of Eurovision Song Contest songs or the collection of western pop music.</p>
				<p>Listen to and share your interesting discoveries!</p>
				<p>MOOD OF EUROPE shows the current mood of Europe based on Twitter tweets related to the European Song Contest.</p>
				<p>See, share, and contribute!</p>
				<p>Copyright &copy; 2014 CoSound. See Copyright and Disclaimer .</p>
				<!-- /ko -->
				<!-- ko if: $parent.CurrentPage() == "Match" -->
				<script id="SongMatchTempalte" type="text/html">
					<div class="SongMatch" data-bind="click: Select, css: {Selected: IsSelected}">
						<img src="Images/Blank.gif" class="flag" data-bind="if: CountryName, attr: { alt: CountryName }, css: 'flag-' + CountryCode" /> 
						<a href="#">
							<span class="Title" data-bind="text: Title"></span>, <span class="Artist" data-bind="text: Artist"></span>
						</a>
					</div>
				</script>
				<script id="SongFullInfoTemplate" type="text/html">
					<p class="SongTitle" data-bind="text: Title"></p>
					<p class="SongTitle" data-bind="text: Artist"></p>
					<!-- ko if: CountryName -->
					<p class="SongTitle">
						<img src="Images/Blank.gif" class="flag" data-bind="attr: {alt: CountryName}, css: 'flag-' + CountryCode" />
						<span data-bind="text: CountryName"></span>
					</p>
					<!-- /ko -->
					<!-- ko if: YoutubeId -->
					<div class="YouTubePlayer"></div>
					<!-- /ko -->
					<!-- ko if: !YoutubeId && SpotifyId -->
					<iframe data-bind="attr: {src: 'https://embed.spotify.com/?uri=spotify:track:' +  SpotifyId}" width="300" height="380" frameborder="0" allowtransparency="true"></iframe>
					<!-- /ko-->
				</script>
				<h1>Select Song</h1>
				<div>
					<h2>Search for a eurovision song by title, artist, country and/or year</h2>
					<input id="SongQuery" type="text" data-bind="value: Query, valueUpdate: 'afterkeydown'" />
					<div data-bind="template: {name: 'SongMatchTempalte', foreach: Matches}"></div>
				</div>
				<!-- ko if: SelectedSong -->
				<h1 id="SelectMatchHeadline">Select Match</h1>
				<div data-bind="with: SelectedSong">
					<h2><span data-bind="text: Title"></span> is most similar to</h2>
					<div data-bind="template: {name: 'SongMatchTempalte', foreach: MostSimilar}"></div>
					<h2><span data-bind="text: Title"></span> is least similar to</h2>
					<div data-bind="template: {name: 'SongMatchTempalte', foreach: LeastSimilar}"></div>
				</div>
				<!-- /ko -->
				<!-- ko if: SelectedSimilarity -->
				<h1 id="ExploreHeadline">Explore and share match</h1>
				<div>
					<div>
						<div id="SelectedFullInfo" class="SongFullInfo" data-bind="template: {name: 'SongFullInfoTemplate', data: SelectedSong}"></div>
						<img class="CompareIcon" src="Images/linkblue_40.png" />
						<div id="CompareFullInfo" class="SongFullInfo" data-bind="template: {name: 'SongFullInfoTemplate', data: SelectedSimilarity}"></div>
					</div>
					<div id="SimilarityContainer">
						<p>Importance of music aspects in match</p>
						<div id="SimilarityGrapghLegend">
							<p>Tempo</p>
							<p>Rythm</p>
							<p>Mood</p>
							<p>Melody</p>
							<p>Energy</p>
							<p>Timbre</p>
						</div>
						<div id="SimilarityGraph" data-bind="with: SelectedSimilarity">
							<p class="SimilarityBar" data-bind="style: {width: Tempo * 100 + '%'}">&nbsp;</p>
							<p class="SimilarityBar" data-bind="style: {width: Rythm * 100 + '%'}">&nbsp;</p>
							<p class="SimilarityBar" data-bind="style: {width: Mood * 100 + '%'}">&nbsp;</p>
							<p class="SimilarityBar" data-bind="style: {width: Melody * 100 + '%'}">&nbsp;</p>
							<p class="SimilarityBar" data-bind="style: {width: Energy * 100 + '%'}">&nbsp;</p>
							<p class="SimilarityBar" data-bind="style: {width: Timbre * 100 + '%'}">&nbsp;</p>
						</div>
					</div>
					<div id="ShareContainer">
						<p>Share your discovery</p>
						<a id="ShareMatchOnTwitter" href="https://twitter.com/share" class="twitter-hashtag-button" data-lang="en" data-related="refraindk" data-count="none" data-hashtags="refraindk,match" data-bind="attr: {'data-url': ShareUrl, 'data-text': ShareMessage}">Tweet #refraindk</a>
						<div id="ShareMatchOnFacebook" class="fb-share-button" data-type="button" data-bind="attr: {'data-href': ShareUrl}">Share on Facebook</div>
					</div>
				</div>
				<!-- /ko -->
				<h1 id="ExploreHeadline">Shared descoveries</h1>
				<div>
					<a class="twitter-timeline" href="https://twitter.com/search?q=%23refraindk+%23match" data-widget-id="462943736947679232">Tweets about "#refraindk #match"</a>
				</div>
				<!-- /ko -->
				<!-- ko if: $parent.CurrentPage() == "Mood" -->
				<h1>Mood</h1>
				<div>
					<div id="map-canvas" style="width: 850px; height: 700px;"></div>
					<a class="twitter-timeline" href="https://twitter.com/Eurovision" data-widget-id="460609701009313793">Tweets by @Eurovision</a>
				</div>
				
				<!-- /ko -->
				<!-- ko if: $parent.CurrentPage() == "Discovery" -->
				<h1>Discovery</h1>
				<div>
					<a class="twitter-timeline" href="https://twitter.com/Eurovision" data-widget-id="460609701009313793">Tweets by @Eurovision</a>
				</div>
				<!-- /ko -->
				<!-- ko if: $parent.CurrentPage() == "About" -->
				<div class="SeperatedSection">
					<img src="Images/cosound_logo_86.png" alt="refrain">
					<p>
						<a href="http://www.cosound.dk" target="_blank" class="text Strong">CoSound</a> is a strategic research project funded by <span class="Strong">Danish Strategic Research Council</span>, which investigates technological methods and tools for linking audio streams and user interaction data in order to improve interactivity and user experience.
					</p>
					<p>
						The vision is to develop a flexible modular audio data processing platform for new products and services in the commercial sector; the public service sector; and in educational and cultural research. The project prototypes and evaluate solutions in all these areas.
					</p>
					<p>
						An integral part of the project is a modular CoSound platform for development and test of algorithms and interactive experiments which has been employed in Refrain.
					</p>
					<span class="ImageLeft">
						<img src="Images/geckon.png" alt="Geckon">
						<br />
						<img src="Images/DTU.png" alt="DTU">
					</span>
					<p>
						The CoSound partners <span class="Strong">DTU Compute</span> and <span class="Strong">Geckon ApS</span> has collaborated to create Refrain.<br/>
						The team consisted of Peter Overgaard, Jesper Fyhr Knudsen, and Jacob Poul Richardt, Geckon ApS. Bjørn Sand Jensen, Jens Madsen, Rasmus Troelsgaard, Patrick Gadd, Martin Hastrup, Sune Lehmann Jørgensen, and Jan Larsen, DTU Compute.
					</p>
					<p class="NoFloat">
						For further information contact CoSound coordinator Jan Larsen, <a href="mailto:janla@dtu.dk">janla@dtu.dk</a>.
					</p>
				</div>
				<div class="SeperatedSection">
					<img src="Images/danishsound_long_86.png" alt="refrain">
					<p>
						<span class="Strong">Danish Sound Innovation Network</span> functions as hub for businesses, research and knowledge institutions, and professional organizations in order to facilitate and contribute to creating value for the Danish national ecosystem for SOUND.
					</p>
					<p>
						Danish Sound is funded by the <span class="Strong">Danish Agency for Science, Technology and Innovation</span> and has more than 550 individual members from 320+ organizations.
					</p>
					<p>
						One of the focus themes is Digital Media where Denmark has a position of strength and critical mass of activity in both research and businesses.
					</p>
					<p>
						Danish Sound is an innovation partner of CoSound and assist with dissemination of results.
					</p>
					<p>
						For further information, contact the secretariat at <a href="mailto:sekretariat@danishsound.org">sekretariat@danishsound.org</a>.
					</p>
				</div>
				<div class="SeperatedSection">
					<h2>COPYRIGHT & DISLAIMER</h2>
					<p>
						By using the service, users accept to the following copyright and disclaimers.
					</p>
					<p>
						Copyright &copy; 2014 <a href="http://www.cosound.dk" target="_blank" class="text Strong">CoSound</a>. Contact Jan Larsen, DTU Compute, <a href="mailto:janla@dtu.dk">janla@dtu.dk</a>.
					</p>
					<p>
						Permission is hereby granted to use the Refrain service free of charge for non-commercial purposes. Any other commercial or non-commercial use of the service, the concept, data is subject to written permission by the copyright holders.
					</p>
					<p>
						The Refrain service is provided “as is”, without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, fitness for a particular purpose and noninfringement. In no event shall the authors or copyright holders be liable for any claim, damages or other liability, whether in an action of contract, tort or otherwise, arising from, out of or in connection with the service or the use or other dealings in the service.
					</p>
					<p>
						A copy of shared discoveries is kept to support the listing of discoveries in this service. These data might be used in anonymous form for non-commercial research purposes only.
					</p>
					<p>
						The service will use a cookie to remember your choices. If you wish to avoid cookies altogether, you will have to disable cookies in your browser. However, disabling cookies can result in certain functions of the website being unavailable to you. Cookies will not be used to collect personally identifiable information.
					</p>
				</div>
				<!-- /ko -->
			</div>
		</div>
	</body>
</html>